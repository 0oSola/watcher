!function(){angular.module("clock",[]).directive("clock",["$interval","$timeout",function($interval,$timeout){return{restrict:"AE",templateUrl:"../pages/templates/clock.html",controller:function($scope){$scope.timer={year:"111",day:"",hour:"",minute:""},$scope.getDate=function(){var date=new Date;$scope.timer.year=date.toLocaleDateString().replace(/[\/]/g,".");var time=date.toTimeString();switch($scope.timer.hour=time.substring(0,time.indexOf(":")+1),$scope.timer.minute=time.substring(time.indexOf(":")+1,time.indexOf(":")+6),date.getDay()){case 0:$scope.timer.day="星期天";break;case 1:$scope.timer.day="星期一";break;case 2:$scope.timer.day="星期二";break;case 3:$scope.timer.day="星期三";break;case 4:$scope.timer.day="星期四";break;case 5:$scope.timer.day="星期五";break;case 6:$scope.timer.day="星期六"}}},link:function(scope,iElement,iAttrs){scope.getDate(),$timeout(function(){iElement.find(".wedge").css("display","none")},6e3),$interval(function(){scope.getDate()},1e3)}}}])}();